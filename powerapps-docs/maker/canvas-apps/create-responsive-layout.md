---
title: キャンバス アプリでのレスポンシブ レイアウトの作成 |Microsoft Docs
description: キャンバス アプリ内のコントロールの高さ、幅、X および Y プロパティの構成に関する参照情報
author: emcoope-msft
manager: kvivek
ms.service: powerapps
ms.topic: conceptual
ms.custom: canvas
ms.reviewer: anneta
ms.date: 02/28/2019
ms.author: emcoope
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: ddd11ddd40792ef1042536041554737ddb16547b
ms.sourcegitcommit: 0267e58b305f9fb0a4b32130fb149cd6e34b3354
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/22/2019
ms.locfileid: "59993920"
---
# <a name="create-responsive-layouts-in-canvas-apps"></a>キャンバス アプリでのレスポンシブ レイアウトを作成します。

PowerApps でキャンバス アプリをビルドする前に、スマート フォンまたはタブレットにアプリを調整するかどうかを指定します。 この選択は、アプリを構築するためのキャンバスの形状とサイズを決定します。

選択した場合、いくつかの他を行うその選択を行った後**ファイル** > **アプリ設定** > **画面のサイズと向き**します。 縦または横方向と画面のサイズ (タブレットのみ) を選択できます。 ロック、縦横比をロック解除またはし (またはない) は、デバイスの回転をサポートなどもできます。

これらの選択肢は基画面レイアウトをデザインする際に、その他のすべての選択肢です。 異なるサイズのデバイスまたは web アプリの実行全体のレイアウトは、アプリが実行されている画面に合わせて拡張できます。 スマート フォン用に設計されたアプリは、大規模なブラウザーのウィンドウで実行する場合など、アプリは補正するためにスケーリングし、次の領域のサイズが大きい。 アプリは、他のコントロールまたはより多くのコンテンツを表示することによってに追加のピクセルの利用できません。

レスポンシブ レイアウトを作成する場合のコントロールはさまざまなデバイスやウィンドウ サイズ、作成に応答できます自然に感じられるさまざまなエクスペリエンス。 レスポンシブ レイアウトを実現するためには、いくつかの設定を調整し、アプリ全体で式を記述します。 

## <a name="disable-scale-to-fit"></a>合わせてスケールを無効にします。

レイアウトは、アプリが実行されている実際の領域に対応できるように、各画面を構成できます。

アプリのオフにすると、応答性を有効にする**に合わせてスケール**設定で、既定でオンになっています。 この設定はオフにすると、ときにもオフに**縦横比をロック**不要になった特定の画面の図形を設計するためです。 (できますを指定するかどうか、アプリがデバイスの回転をサポートしています。)

![スケールを無効にする設定に合わせて](media/create-responsive-layout/scale-to-fit-off.png)

アプリをレスポンシブにするために、追加の手順を行う必要がありますが、この変更は応答性をできるようにするための第一歩です。

## <a name="understand-app-and-screen-dimensions"></a>アプリと画面の寸法を理解します。

アプリのレイアウトが画面のサイズ変更に応答するために、使用する数式を記述します、**幅**と**高さ**画面のプロパティ。 これらのプロパティを表示するには、PowerApps Studio でアプリを開くし、画面を選択します。 これらのプロパティの既定の式が表示されます、**詳細**右側のウィンドウのタブ。

**Width** = `Max(App.Width, App.DesignWidth)`

**高さ** = `Max(App.Height, App.DesignHeight)`

これらの数式を参照してください、**幅**、**高さ**、 **DesignWidth**、および**が追加されます**アプリのプロパティ。 アプリの**幅**と**高さ**プロパティは、アプリが実行されているデバイスまたはブラウザーのウィンドウのサイズに対応します。 ユーザーのブラウザー ウィンドウのサイズを変更する場合 (またはオフになっている場合、デバイスを回転**向きをロック**)、これらのプロパティの値を動的に変更します。 画面の数式は、**幅**と**高さ**プロパティは、これらの値を変更するときに再評価されます。

**DesignWidth**と**が追加されます**プロパティで指定したディメンションから、**画面のサイズと向き**のウィンドウ**アプリの設定**. 縦向きで携帯電話レイアウトを選択する場合など**DesignWidth** 640 と**が追加されます**1136 です。

画面の数式では使用するいると**幅**と**高さ**プロパティ、考えることができます**DesignWidth**と**が追加されます**として最小サイズが、アプリを設計します。 アプリで使用する実際の領域がこれらの最小値よりも小さい場合、ディメンションを画面の数式**幅**と**高さ**プロパティは、その値はありませんよりも小さくなることを確認最小値。 その場合は、ユーザーは、すべての画面のコンテンツを表示するスクロールする必要があります。

アプリの確立後**DesignWidth**と**が追加されます**、する必要はありません (ほとんどの場合) 内の各画面の既定の式を変更する**幅**と**高さ**プロパティ。 後で、このトピックでは、これらの数式をカスタマイズする場合について説明します。

## <a name="use-formulas-for-dynamic-layout"></a>動的レイアウトの数式を使用します。

レスポンシブ デザインを作成するには、検索し、絶対 (定数) 座標の値の代わりに数式を使用して各コントロールのサイズします。 これらの数式は、各コントロールの位置とサイズ、全体的な画面サイズの観点から、または画面上の他のコントロールを基準に express します。

> [!IMPORTANT]
> 数式を記述した後、 **X**、 **Y**、**幅**と**高さ**コントロールのプロパティは、数式で上書きされますキャンバスのエディターで、その後にコントロールをドラッグする場合の定数の値。 動的レイアウトを実現するために式を使用して開始すると、コントロールをドラッグすることを避ける必要があります。

最も簡単なケースでは、1 つのコントロールは、画面全体を塗りつぶします。 この効果を作成するには、これらの値をコントロールのプロパティを設定します。

| プロパティ      | Value            |
|--------|---------------|
| **X**      | `0`             |
| **Y**      | `0`             |
| **幅**  | `Parent.Width`  |
| **高さ** | `Parent.Height` |

これらの数式を使用して、**親**演算子。 画面上で直接配置されるコントロールの**親**画面を参照します。 これらのプロパティ値を持つコントロール (0, 0)、画面の左上隅に表示し、同じである**幅**と**高さ**画面として。

このトピックの後半では、これらの原則を適用します (および**親**演算子) ギャラリーなどの他のコンテナー内のコントロールを配置する、コントロール、およびコンポーネントをグループ化します。

代わりに、コントロールが画面の上半分のみを入力できます。 この効果を作成するには、設定、**高さ**プロパティを**Parent.Height** /2、し、変更せず、他の数式のままにします。

2 つ目のコントロールの下部にある同じ画面の半分を入力する場合は、その数式の構築に他に少なくとも 2 つのアプローチを実行できます。 わかりやすくするため、このアプローチをかかる場合があります。

| コントロール | プロパティ | 数式           |
|-|----------|-------------------|
| **上限** | **X**        | `0`                 |
| **上限** | **Y**        | `0`                 |
| **上限** | **幅**    | `Parent.Width`      |
| **上限** | **高さ**   | `Parent.Height / 2` |
| **低い** | **X**        | `0`                 |
| **低い** | **Y**        | `Parent.Height / 2` |
| **低い** | **幅**    | `Parent.Width`      |
| **低い** | **高さ**   | `Parent.Height / 2` |

![上とコントロールの削減](media/create-responsive-layout/dynamic-layout.png)

この構成は、必要な効果を実現するが、コントロールの相対サイズについて頭を変更した場合は、各式を編集する必要があります。 たとえば、上端のコントロールが下位 3 分 2 の入力の下部にあるコントロールにのみ、上位 3 分の 1、画面を占有することをことがあります。 

その効果を作成するを更新する必要は、**高さ**のプロパティ、**上限**コントロールと**Y**と**高さ**のプロパティ、**低い**コントロール。 代わりに、数式を書き込むことを検討、**低い**の観点での制御、**上限**コントロール (とそれ自体と)、この例のように。


| コントロール | プロパティ | 数式           |
|-|----------|-------------------|
| **上限** | **X**        | `0`                 |
| **上限** | **Y**        | `0`                 |
| **上限** | **幅**    | `Parent.Width`      |
| **上限** | **高さ**   | `Parent.Height / 2` |
| **低い** | **X**        | `0`                       |
| **低い** | **Y**        | `Upper.Y + Upper.Height`  |
| **低い** | **幅**    | `Parent.Width`            |
| **低い** | **高さ**   | `Parent.Height - Lower.Y` |

![上位および下位相対サイズを制御します。](media/create-responsive-layout/dynamic-layout2.png)

場所でこれらの数式でのみ変更必要があります、**高さ**のプロパティ、**上限**を画面の高さの異なる分数を表すコントロール。 **低い**コントロールは自動的に移動し、変更に対応するサイズを変更します。

これらの数式のパターンを使用するには、という名前のコントロール間の共通レイアウト リレーションシップを表現するため**C**、その親または兄弟コントロールをという名前のおよび**D**します。

| C とその親の間のリレーションシップ | プロパティ | 数式 | 図 |
|--|--|--|--|
| **C**の余白で、親の幅を埋めます*N* | **X**| `N` | ![親の C いっぱいになる幅の使用例](media/create-responsive-layout/c1.png) |
|  | **幅** | `Parent.Width - (N * 2)` |  |
| **C**の余白で、親の高さを埋めます*N* | **Y** | `N` | ![親の C いっぱいになる高さの例](media/create-responsive-layout/c2.png) |
|  | **高さ** | `Parent.Height - (N * 2)` |  |
| **C**の余白で、親の右端に揃えて配置*N* | **X** | `Parent.Width - (C.Width + N)` | ![親の端と連携して C# の例](media/create-responsive-layout/c3.png) |
| **C**の余白で、親の下端に揃えて配置*N* | **Y** | `Parent.Height - (C.Height + N)` | ![親の端と連携して C# の例](media/create-responsive-layout/c4.png) |
| **C**親で水平方向に中央揃え | **X** | `(Parent.Width - C.Width) / 2` | ![C の親で水平方向に中央揃えの例](media/create-responsive-layout/c5.png) |
| **C**親に垂直方向に中央揃え | **Y** | `(Parent.Height - C.Height) / 2` | ![C の親で垂直方向に中央揃えの例](media/create-responsive-layout/c6.png) |

| C および D の間のリレーションシップ | プロパティ | 数式 | 図 |
|--|--|--|--|
| **C**で水平方向に整列**D**およびと同じ幅**D** | **X** | `D.X` | ![パターンの例](media/create-responsive-layout/d1.png) |
|  | **幅**    | `D.Width` |  |
| **C**を垂直方向に整列**D**およびと同じ高さ**D**  | **Y** | `D.Y` | ![パターンの例](media/create-responsive-layout/d2.png) |
|  | **高さ** | `D.Height` |  |
| 右端**C**の右端に揃えて配置**D** | **X** | `D.X + D.Width - C.Width` | ![パターンの例](media/create-responsive-layout/d3.png) |
| 下の端**C**の下端に揃えて配置**D** | **Y** | `D.Y + D.Height - C.Height` | ![パターンの例](media/create-responsive-layout/d4.png) |
| **C**を基準とする水平方向に中央揃え**D** | **X** | `D.X + (D.Width - C.Width) / 2`  | ![パターンの例](media/create-responsive-layout/d5.png) |
| **C**に対して相対的に垂直方向に中央揃え**D** | **Y** | `D.Y + (D.Height - C.Height) /2` | ![パターンの例](media/create-responsive-layout/d6.png) |
| **C**の右側に配置されている**D** N おき | **X** | `D.X + D.Width - N` | ![パターンの例](media/create-responsive-layout/d7.png) |
| **C**の下に配置**D**おき*N*             | **Y** | `D.Y + D.Height + N` | ![パターンの例](media/create-responsive-layout/d8.png) |
| **C**間の領域を占める**D**親の右端と | **X** | `D.X + D.Width` | ![パターンの例](media/create-responsive-layout/d9.png) |
|  | **幅** | `Parent.Width - C.X` |  |
| **C**間の領域を占める**D**上下の親の端 | Y | `D.Y + D.Height` | ![パターンの例](media/create-responsive-layout/d10.png) |

## <a name="hierarchical-layout"></a>階層構造

便利な (または必要さえ) になる複数のコントロールを含む画面を作成するときに画面を基準ではなく、親コントロールに対する相対的なコントロールまたは関連するコントロールを配置します。 階層構造にコントロールを整理することによって行うことができます、数式の記述し、保守を容易にします。

### <a name="galleries"></a>ギャラリー

アプリで、ギャラリーを使用する場合は、ギャラリーのテンプレート内のコントロールをレイアウトする必要があります。 使用する数式を記述してこれらのコントロールを配置することができます、**親**演算子は、ギャラリー テンプレートを参照してください。 ギャラリー テンプレート内のコントロールの数式を使用して、 **Parent.TemplateHeight**と**Parent.TemplateWidth** ; のプロパティを使用しない**Parent.Width**と**Parent.Height**ギャラリーの全体的なサイズを参照してください。

![テンプレートの幅と高さを示す縦方向のギャラリー](media/create-responsive-layout/gallery-vertical.png)

### <a name="enhanced-group-control"></a>拡張のグループ コントロール

強化されたの試験的な機能を使用する**グループ**として親コントロールのコントロール。 この機能をオンにする次のように選択します。**ファイル** > **アプリ設定** > **詳細設定**します。

画面の上部にあるヘッダーの例を検討してください。 通常、タイトルと、ユーザーが操作するいくつかのアイコンのヘッダーになります。 拡張を使用してこのようなヘッダーを構築する**グループ**コントロールを含む、**ラベル**コントロールと 2 つ**アイコン**コントロール。

![グループを使用して、ヘッダーの使用例です。](media/create-responsive-layout/header-group.png)

これらの値には、これらのコントロールのプロパティを設定します。

| プロパティ | ヘッダー | メニュー | 閉じる | Title |
|--|--|--|--|--|
| **X** | `0`  | `0` | `Parent.Width - Close.Width` | `Menu.X + Menu.Width` |
| **Y** | `0` | `0` | `0` | `0` |
| **幅**  | `Parent.Width` | `Parent.Height` | `Parent.Height` | `Close.X - Title.X` |
| **高さ** | `64` | `Parent.Height` | `Parent.Height` | `Parent.Height` |

**ヘッダー**コントロール、`Parent`画面を参照します。 その他`Parent`を指す、**ヘッダー**コントロール。

これらの数式を作成すると、調整できますサイズや位置の**ヘッダー**そのプロパティの数式を変更することで制御します。 子コントロールの位置とサイズに自動的に調整されます。

### <a name="components"></a>コンポーネント

名前付きコンポーネントを別の実験的な機能を使用する場合の構成要素を構築し、アプリ全体で再利用できます。 同様、**グループ**コントロール、コントロール、コンポーネント内に配置された基に、位置とサイズの数式`Parent.Width`と`Parent.Height`、これには、コンポーネントのサイズを参照してください。 詳細情報:[コンポーネントを作成する](create-component.md)します。

## <a name="adapting-layout-for-device-size-and-orientation"></a>デバイスのサイズと向きのレイアウトを適応

ここまでは、数式を使用して、相対的な配置のコントロールを維持するときに、空き領域への応答の各コントロールのサイズを変更する方法を学習しました。 ただし、場合や別のデバイスのサイズと向きへの応答でより大きなレイアウトの変更を行う必要がある可能性があります。 デバイスが縦から横方向に回転させると、ときになどたい垂直レイアウトから水平方向の 1 つに切り替えます。 大規模なデバイスでより多くのコンテンツを表示または方が魅力的なレイアウトを提供する再配置できます。 小型のデバイスは、複数の画面のコンテンツを分割する必要があります。

### <a name="device-orientation"></a>デバイスの向き

既定の式の画面の**幅**と**高さ**プロパティ、としては、このトピックで前述したとおり、必ずしもは示しません良好なエクスペリエンスをユーザーがデバイスを回転させる場合。 たとえば、縦向きにスマート フォン用に設計されたアプリは、 **DesignWidth** 640 と**が追加されます**1136 の。 横方向にスマート フォンで同じアプリには、これらのプロパティ値には。

- 画面の**幅**プロパティに設定されて`Max(App.Width, App.DesignWidth)`します。 アプリの**幅**(1136) がより大きい、 **DesignWidth** (640)、1136 に数式が評価されます。
- 画面の**高さ**プロパティに設定されて`Max(App.Height, App.DesignHeight)`します。 アプリの**高さ**(640) よりも小さい、**が追加されます**(1136)、1136 に数式が評価されます。

画面**高さ**1136 のと、デバイス (この方向) の高さ 640、ユーザーは、エクスペリエンスができない可能性があるそのコンテンツをすべて表示するには、垂直方向に画面をスクロールする必要があります。

画面の適応**幅**と**高さ**プロパティ、デバイスの向きにこれらの数式を使用することができます。

**Width** = `Max(App.Width, If(App.Width < App.Height, App.DesignWidth, App.DesignHeight))`

**高さ** = `Max(App.Height, If(App.Width < App.Height, App.DesignHeight, App.DesignWidth))`

これらの数式と、アプリのスワップ**DesignWidth**と**が追加されます**かどうかに基づいて、デバイスの幅、高さ (縦向き) 以上の高さ (横向き) よりもより小さい値.

画面を調整した後に**幅**と**高さ**数式、することも、画面より使いやすく、使用可能な領域内のコントロールを再配置します。 たとえば、画面の半分を占有それぞれ 2 つのコントロールの場合 (縦向き) 垂直方向に積み重ねることが横向きの横に並べて配置可能性があります。

画面を使用する**向き**垂直または水平に画面が指向かどうかを決定するプロパティ。

> [!NOTE]
> 、横方向に、**上限**と**低い**左と右のコントロールとしてコントロールが表示されます。

| コントロール | プロパティ | 数式 |
|--|----------|---|
| **上限** | **X** | `0` |
| **上限** | **Y** | `0` |
| **上限** | **幅** | `If(Parent.Orientation = Layout.Vertical, Parent.Width, Parent.Width / 2)` |
| **上限** | **高さ**   | `If(Parent.Orientation = Layout.Vertical, Parent.Height / 2, Parent.Height)` |
| **低い** | X | `If(Parent.Orientation = Layout.Vertical, 0, Upper.X + Upper.Width)`  |
| **低い** | Y | `If(Parent.Orientation = Layout.Vertical, Upper.Y + Upper.Height, 0)` |
| **低い** | **幅** | `Parent.Width - Lower.X` |
| **低い** | **高さ** | `Parent.Height - Lower.Y` |

![縦向きを調整する式](media/create-responsive-layout/portrait.png)

![横方向に適応する式](media/create-responsive-layout/landscape.png)

### <a name="screen-sizes-and-breakpoints"></a>画面サイズやブレークポイント

デバイスのサイズに基づいてレイアウトを調整できます。 画面の**サイズ**プロパティは、デバイスの現在のサイズを分類します。 サイズは正の整数です。型では、読みやすさを名前付き定数を提供します。 この表では、定数を示します。

| 定数              | Value | 一般的なデバイスの種類 (既定のアプリ設定を使用) |
|-----------------------|-------|--------------------------------------------------|
| ScreenSize.Small      | 1     | 電話                                            |
| ScreenSize.Medium     | 2     | タブレットでは、垂直方向に保持されています。                          |
| ScreenSize.Large      | 3     | タブレットでは、水平方向に保持されています。                        |
| ScreenSize.ExtraLarge | 4     | デスクトップ コンピューター                                 |

これらのサイズを使用して、アプリのレイアウトに関する意思決定を行います。 たとえば、携帯電話サイズのデバイスが表示されている、それ以外の場合に非表示にするコントロールを設定する場合は、コントロールを設定でした**Visible**に次の式のプロパティ。

`Parent.Size >= ScreenSize.Medium`

この数式に**true**サイズが中規模または大規模と**false**それ以外の場合。

コントロールをさまざまな画面サイズに基づいた画面の幅の分数を占有する場合は、設定、コントロールの**幅**に次の式のプロパティ。

```
Parent.Width *  
    Switch(Parent.Size,  
        ScreenSize.Small, 0.5,  
        ScreenSize.Medium, 0.3,  
        0.25)
```
この数式は、中程度の画面では、画面の幅の 10 分の 3 つと他のすべての画面で画面の幅の四半期、小さな画面で画面の幅の半分にコントロールの幅を設定します。

## <a name="custom-breakpoints"></a>カスタム ブレークポイント

画面の**サイズ**プロパティは、画面を比較して計算されます**幅**プロパティで、アプリの値を**SizeBreakpoints**プロパティ。 このプロパティは、名前付きの画面サイズを分離する幅のブレークポイントを示す番号を単一列テーブルです。

アプリの既定値のタブレットや web 用に作成されたアプリで**SizeBreakpoints**プロパティは **[600、900、1200]** します。 値は、スマート フォン用に作成されたアプリで **[1200、1800、2400]** します。 (電話アプリ用の値はこのようなアプリは他のアプリで使用する座標効果的に倍精度浮動小数点座標を使用するため 2 倍)。

![App.SizeBreakpoints プロパティの既定値](media/create-responsive-layout/default-breakpoints.png)

アプリの値を変更することで、アプリのブレークポイントをカスタマイズする**SizeBreakpoints**プロパティ。 選択**アプリ**ツリー ビューで選択**SizeBreakpoints**プロパティに一覧し、数式バーで値を編集します。 多くのブレークポイント、アプリで必要があるがのみ 1 ~ 4 のサイズに対応して名前付きの画面サイズを作成できます。 数式では、ExtraLarge を超えるサイズの数値で参照することができます (5、6、およびなど)。

以下のブレークポイントを指定することもできます。 たとえば、アプリがため、可能な画面サイズは小、中、大になります、3 つのサイズ (2 つのブレークポイント) のみを必要があります。

## <a name="known-limitations"></a>既知の制限

作成キャンバスは、サイズ設定で作成した数式に応答しません。 応答性の高い動作をテストするには、保存してアプリを発行してデバイスで、またはさまざまなサイズと向きのブラウザー ウィンドウで開きます。

式または数式を作成する場合、 **X**、 **Y**、**幅**、および**高さ**プロパティ、コントロールのそれらを上書きします式または数式の場合、後で別の場所にコントロールをドラッグします。 または、コントロールの境界線をドラッグしてサイズを変更します。
