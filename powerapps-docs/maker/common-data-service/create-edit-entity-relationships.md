---
title: Common Data Service のエンティティの関連付けの概要 | MicrosoftDocs
ms.custom: ''
ms.date: 05/26/2018
ms.reviewer: ''
ms.service: powerapps
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
  - Dynamics 365 (online)
  - Dynamics 365 Version 9.x
  - PowerApps
ms.assetid: c765b6d9-4d87-4c2d-aae2-5b1c3b664a71
caps.latest.revision: 28
ms.author: matp
manager: brycho
search.audienceType:
  - maker
search.app:
  - PowerApps
  - D365CE
---
# <a name="entity-relationships-overview"></a>エンティティの関連付けの概要

エンティティ関係は、データベースでレコードがどのように相互に関連しているかを定義します。 最も簡単なレベルでは、エンティティに検索フィールドを追加することにより、2 つのエンティティ間の新しい 1:N (1 対多数) の関連付けが作成され、フォームに検索フィールドを設定できるようにします。 検索フィールドを使用すると、ユーザーはエンティティの複数の*子*レコードを一つの*親*エンティティ レコードに関連付けることができます。  
  
レコードが別のレコードにどのように関連するかを定義することに加え、1:N のエンティティ関係は、以下の問題に対処するデータを提供します。  
  
- レコードを削除すると、そのレコードに関連するレコードも削除されますか。  
- レコードを割り当てると、そのレコードに関連するすべてレコードを新しい所有者に割り当てる必要がありますか。  
- 既存のレコードのコンテキストで新しい関連レコードを作成するとき、データ入力プロセスをどのように合理化できますか。  
- レコードを表示する際、関連レコードをどのように表示できるようにしますか。  
  
 2 つのエンティティの任意の数のレコードが相互に関連している場合、エンティティは N:N (多対多) の関連付けもできます。  

<a name="BKMK_Connections"></a>

## <a name="decide-whether-to-use-entity-relationships-or-connections"></a>エンティティ関係や接続を使用するかどうかを決定 
 
エンティティ関係はデータベースに変更を加えるメタデータのことです。 これらの関係は、クエリが関連データを効率的に取得できるようにします。 エンティティ関係を使用して、エンティティを定義するまたはほとんどのレコードが使用できる正式の関連付けを定義します。 たとえば、顧客になる可能性のない営業案件はあまり役に立ちません。 営業案件エンティティには、競合企業エンティティとの N:N の関連付けがあります。 これにより、複数の競合企業を営業案件に追加できます。 このデータを取得し、競合企業を表示するレポートを作成することができます。  
  
レコード間のあまり正式でない関連付けは、*つながり*と呼ばれます。 たとえば、2 人の取引先担当者は結婚していること、または職場外の友人であること、またはある取引先担当者は以前別の取引先企業で働いていたことなどを把握しておくと便利場合があります。 ほとんどの業種では、この種の情報を使用または入力を必要とするレポートを生成しないため、エンティティ関係を作成するに値しません。 詳細: [つながりロールを構成する](configure-connection-roles.md)

  
<a name="BKMK_TypesOfRelationships"></a>
 
## <a name="types-of-entity-relationships"></a>エンティティ関係の種類

ソリューション エクスプローラーを表示すると、3 種類のエンティティ関係があると思われる場合があります。 次の表に示したとおり実際は 2 つだけです。  
  
|関係内容|内容|  
|-----------------------|-----------------|  
|**1:N (一対多)**|関連エンティティの検索フィールドを使用して、**主エンティティ**の 1 つのエンティティ レコードが他の複数の**関連エンティティ**レコードに関連付けられるエンティティ関係。<br /><br /> 主エンティティ レコードを表示する際に、それに関連付けられた関連エンティティ レコードの一覧を表示できます。|  
|**N:N (多対多)**|特殊な**関係エンティティ**に基づくエンティティ関係。交差するエンティティと呼ばれることもあり、1 つのエンティティの複数のレコードが別のエンティティの複数のレコードに関連付けられます。<br /><br /> N:N の関連付けのいずれかのエンティティのレコードを表示すると、それと関連する他のエンティティのレコードのリストを表示できます。|  
  
デザイナーはエンティティでグループ分けされたビューを表示するため、**N:1 (多対 1)** の関連付けの種類はユーザー インターフェイスにあります。 1:N の関連付けは実際にはエンティティの*間*にあり、**主エンティティ**または**関連エンティティ**のいずれかとして各エンティティを参照します。 *子*エンティティとも呼ばれる関連エンティティには、主エンティティ (*親*エンティティとも呼ばれる) からのレコードへの参照を格納できる検索フィールドもあります。 N:1 の関連付けは、単に、関連エンティティから見た 1:N の関連付けです。  
 
## <a name="see-also"></a>関連項目

[エンティティおよびメタデータの概要](create-edit-metadata.md)<br />
[1:N (一対多) または N:1 (多対一) の関連付けを作成および編集する](create-edit-1n-relationships.md)<br />
[多対多 (N:N) のエンティティの関連付けを作成する](create-edit-nn-relationships.md)

